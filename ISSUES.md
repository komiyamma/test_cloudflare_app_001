# プロジェクトの問題点 (Project Issues)

このドキュメントは、`react-demo-site` プロジェクトにおける現在の問題点や改善点をまとめたものです。

## 1. テストコードの欠如

**問題点:**
プロジェクトには、Jest, Vitest, React Testing Library などの自動テストフレームワークが導入されていません。これにより、以下のリスクが生じます。

- 新機能の追加やリファクタリングによって、既存の機能が意図せず壊れる「リグレッション」を検知できない。
- 手動での動作確認に多くの時間と手間がかかる。
- コードの品質を客観的に保証することが難しい。

**改善案:**
- `Vitest` と `React Testing Library` を導入し、コンポーネント単位のユニットテストと結合テストを作成する。
- CI/CD パイプラインにテストの自動実行を組み込む。

## 2. 国際化（i18n）への未対応

**問題点:**
`App.tsx` 内の `SkipLink` コンポーネントなどで、UIに表示されるテキストが「メインコンテンツへスキップ」のようにソースコード内に直接ハードコードされています。

- テキストの修正や追加が煩雑になる。
- 英語や他の言語への対応（多言語化）が困難。

**改善案:**
- `react-i18next` などの国際化ライブラリを導入し、テキストを言語ファイル（例: `locales/ja.json`, `locales/en.json`）で管理する。

## 3. 開発用コードの混入の可能性

**問題点:**
`App.tsx` で、エラーテスト用の `<ErrorTest>` コンポーネントが無条件にレンダリングされています。これは開発時には有用ですが、本番ユーザー向けのビルドには含めるべきではありません。

**改善案:**
- Viteが提供する環境変数 `import.meta.env.DEV` を利用して、開発環境でのみこのコンポーネントがレンダリングされるように修正する。
  ```tsx
  {import.meta.env.DEV && <ErrorTest />}
  ```

## 4. CSSの管理戦略

**問題点:**
プロジェクトでは、コンポーネントごとにスコープが限定されるCSSモジュール（`.module.css`）と、プロジェクト全体に影響するグローバルCSS (`src/styles/globals.css`) が併用されています。現在の規模では問題ありませんが、プロジェクトが拡大するにつれて以下の問題が起こる可能性があります。

- グローバルCSSによる意図しないスタイルの上書き。
- スタイルの依存関係が複雑になり、メンテナンス性が低下する。

**改善案:**
- `globals.css` の役割を、CSSリセット、CSS変数、全体的なフォント設定など、真にグローバルな定義に限定する。
- 各コンポーネントのスタイリングは、原則としてCSSモジュールで行うというルールを設ける。

## 5. コンポーネントのドキュメント不足

**問題点:**
`README.md` にはプロジェクトの概要が記載されていますが、各コンポーネント（例: `Header`, `LazyImage`）のpropsや使用方法、デザインの意図などを示すドキュメントが存在しません。

- 新しい開発者がコンポーネントを再利用したり、修正したりするのが難しい。

**改善案:**
- `Storybook` を導入し、各コンポーネントを視覚的に確認できるカタログを作成する。
- または、各コンポーネントのディレクトリに簡単な `README.md` を作成し、props の仕様などを記述する。

## 6. 依存関係の定期的な更新

**問題点:**
`package.json` で管理されている依存ライブラリは、時間と共に古くなり、セキュリティ上の脆弱性やバグが含まれる可能性があります。

**改善案:**
- `npm outdated` コマンドを定期的に実行し、ライブラリの更新をチェックする。
- Dependabot のようなツールを導入し、依存関係の更新を自動化する。
